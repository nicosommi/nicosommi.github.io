<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 3.11.1"/><title data-react-helmet="true">nicosommi</title><meta data-react-helmet="true" name="description" content="nicosommi blog"/><meta data-react-helmet="true" name="keywords" content="blog, engineer, developer, javascript, typescript, golang, kubernetes, docker"/><link rel="icon" href="/favicon-32x32.png?v=9aaa16fa2b5f381bbeaa8ec4a1f02f8c" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossOrigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=9aaa16fa2b5f381bbeaa8ec4a1f02f8c"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=9aaa16fa2b5f381bbeaa8ec4a1f02f8c"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=9aaa16fa2b5f381bbeaa8ec4a1f02f8c"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=9aaa16fa2b5f381bbeaa8ec4a1f02f8c"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=9aaa16fa2b5f381bbeaa8ec4a1f02f8c"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=9aaa16fa2b5f381bbeaa8ec4a1f02f8c"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=9aaa16fa2b5f381bbeaa8ec4a1f02f8c"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=9aaa16fa2b5f381bbeaa8ec4a1f02f8c"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-44929876-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-44929876-1', 'auto', {});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-8ac6183c44a76c500ebc.js"/><link as="script" rel="preload" href="/framework-8d714a4faf31edeed8fb.js"/><link as="script" rel="preload" href="/app-c2c0b88bdf15070fa777.js"/><link as="script" rel="preload" href="/b5433cdc981f0c288c339c2910d8833f05167fcf-839d29d94eb9cdbf685c.js"/><link as="script" rel="preload" href="/component---src-templates-post-tsx-a146c703c12233861ecc.js"/><link as="fetch" rel="preload" href="/page-data/2015/08/10/partial-class-approach-for-es6/page-data.json" crossOrigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3649515864.json" crossOrigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossOrigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css-global eoqabc">@font-face{font-family:"Open Sans Extra Bold";src:url(/fonts/open-sans/OpenSans-ExtraBold.ttf);}@font-face{font-family:"Cooper Hewitt";src:url(/fonts/cooper-hewitt/CooperHewitt-Light.otf);}@font-face{font-family:"PT Sans";src:url(/fonts/pt-sans/PTN57F.ttf);}</style><style data-emotion="css-global 1mvtq23 animation-4kt7bh">code{font-family:Menlo,Monaco,"Courier New",monospace;background-color:rgba(192, 98, 192, 0.3);}html,p{line-height:1.8em;}body{font-family:"PT Sans",Georgia,serif;margin:2%;font-size:14pt;color:white;background:black;-webkit-animation:animation-4kt7bh 1s ease 1;animation:animation-4kt7bh 1s ease 1;}h1{letter-spacing:-1pt;line-height:1.2em;font-family:"Open Sans Extra Bold","Lucida Grande","Lucida Sans","Lucida Sans Regular","Lucida Sans Unicode",Geneva,Verdana,sans-serif;}h2,h3,h4,h5,h6{letter-spacing:1.3pt;font-family:"Cooper Hewitt";text-transform:uppercase;}@media only screen and (max-width: 480px){html{font-size:100%;}}@-webkit-keyframes animation-4kt7bh{from{background:black;}to{background:black;}}@keyframes animation-4kt7bh{from{background:black;}to{background:black;}}</style><div style="margin-bottom:1.45rem"><div style="margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem;transform:skewY(-11deg);overflow:hidden"><style data-emotion="css 1h5x3dy">.css-1h5x3dy{cursor:pointer;}</style><span role="button" class="css-1h5x3dy">üåû</span><style data-emotion="css gqy3t4">.css-gqy3t4{-webkit-text-decoration:none;text-decoration:none;color:white;}.css-gqy3t4:hover{color:red;padding:0;outline:1px solid gray;outline-offset:2;}.css-gqy3t4:focus{outline:1px dashed gray;outline-offset:2;}.css-gqy3t4:visited{color:white;outline-offset:2;}</style><a class="css-gqy3t4" href="/"><style data-emotion="css 1lg1f8h">.css-1lg1f8h{margin:0;margin-left:-100;padding-left:100;width:150%;color:black;-webkit-filter:invert(100%);filter:invert(100%);background:linear-gradient(to right, rgba(192, 98, 192, 0.3), rgba(192, 98, 192, 1), rgba(100, 20, 100, 1));}</style><h1 class="css-1lg1f8h">nicosommi</h1></a><style data-emotion="css i14bsj">.css-i14bsj{color:#EEE;margin:0;}</style><h6 class="css-i14bsj"><span>engineer</span></h6><style data-emotion="css 102lqhp">.css-102lqhp{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-ms-flex-pack:space-evenly;-webkit-justify-content:space-evenly;justify-content:space-evenly;}</style><div class="css-102lqhp"><style data-emotion="css gqy3t4">.css-gqy3t4{-webkit-text-decoration:none;text-decoration:none;color:white;}.css-gqy3t4:hover{color:red;padding:0;outline:1px solid gray;outline-offset:2;}.css-gqy3t4:focus{outline:1px dashed gray;outline-offset:2;}.css-gqy3t4:visited{color:white;outline-offset:2;}</style><a class="css-gqy3t4" href="/posts"><style data-emotion="css 4kv0r8">.css-4kv0r8 >a{padding-top:5px;}</style><h3 class="css-4kv0r8">posts</h3></a><a class="css-gqy3t4" href="/slides"><h3 class="css-4kv0r8">slides</h3></a><a href="https://www.linkedin.com/in/nicosommi" target="_blank" class="css-gqy3t4"><h3 class="css-4kv0r8">cv</h3></a></div></div></div><style data-emotion="css 1p4o4ey">.css-1p4o4ey{margin:5% 10%;}@media (max-width: 500px){.css-1p4o4ey{margin:5% 2%;}}</style><div class="css-1p4o4ey"><article><header><h1>Partial class approach for ES5/ES6</h1><div>August 10, 2015</div><div>2<!-- --> min read</div></header><div><p><style data-emotion="css 14bsayb">.css-14bsayb{background-image:linear-gradient( transparent 0%, transparent calc(40% - 8px), rgba(rgba(192, 98, 192, 0.3), 0.35) calc(40% - 8px), rgba(rgba(192, 98, 192, 0.3), 0.35) 120% );-webkit-transition:background-position 120ms ease-in-out,padding 120ms ease-in-out;transition:background-position 120ms ease-in-out,padding 120ms ease-in-out;-webkit-background-size:100% 200%;background-size:100% 200%;-webkit-background-position:0 0;background-position:0 0;-webkit-text-decoration:none;text-decoration:none;color:white;padding:0;}.css-14bsayb:hover{background-image:linear-gradient( transparent 0%, transparent calc(40% - 8px), rgba(rgba(192, 98, 192, 0.3), 1) calc(40% - 8px), rgba(rgba(192, 98, 192, 0.3), 1) 120% );-webkit-background-position:0 90%;background-position:0 90%;}</style><a href="https://github.com/nicosommi/partialClass" target="_blank" class="css-14bsayb">Source code</a></p>
<p>When you create components that have some code quality control like code climate, bithound or something like that. There are plenty errors that you will found on your component, from code duplication to very specific details.</p>
<p>One of those rules is the <strong>class complexity</strong>.</p>
<p>So you have a giant class. You may <strong>need or want to split it up into different files</strong>. Of course, you can do some hacks with the javascript language to get that done. Of course, you can take a different design solution and make smaller classes. Of course, you can do a lot of things, but what I‚Äôm trying to show here is an approach to get <strong>something like the partial class declaration from OOP languages like C#</strong>. Keeping files simple and small. You need to cover some features like private methods, public ones, properties, bind problems ( so you can use ‚Äúthis‚Äù on every method), etc. And at the same time you should produce self documented code.</p>
<p>So I came up with a simple solution but that has some key points to unlock some features (private methods with symbols and using a standard function to attach to the class prototype).¬†It is not something trivial actually but not so hard neither. It consist on some <strong>easy to follow steps</strong> (on the example code, using the Babel plugin implementation for ES6 and ES5 compatibility):</p>
<ul>
<li>Instead of creating a file for your class, create a folder for it.</li>
<li>Create an index.js inside of it that contains the actual class</li>
<li>Create some file with the function/functions that you want to have in different files</li>
<li>Chose one of the alternatives to assign the method to the main class on the index. For example Object.assign(MyClass.prototype, objNewMethods). This is maybe the best option since it bind the functions automatically. UPDATE: It seems like there is a caveat using Object.assign to copy methods‚Ä¶ I will work on it soon to check that it happens and then update the article/source code with a better solution.</li>
<li>If you want to split up symbols (usually used for private methods) you need a separate file to instantiate them and use the same one among different files (for example to call a private method from another file).</li>
</ul>
<p>That‚Äôs basically all! <strong>See</strong> <a href="http://github.com/nicosommi/partialClass" target="_blank" class="css-14bsayb">this repo</a> to take a look at a working source code.</p>
<p><strong>Now you have a class in several files, small and self documented files with functions with reduced complexity.</strong></p></div><footer><div>nico</div></footer></article></div><style data-emotion="css bue21p">.css-bue21p{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;font-size:0.75em;line-height:2em;}</style><div class="css-bue21p"><span>Copyright by nicosommi¬†</span><span aria-label="nerd face" role="img" class="css-0">ü§ì</span></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2015/08/10/partial-class-approach-for-es6/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-2d0129554497884c3ab3.js"],"app":["/app-c2c0b88bdf15070fa777.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-48f442ae594c3544ac16.js"],"component---src-pages-404-js":["/component---src-pages-404-js-0941cd126962449c2c16.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-d5f4e7553a57a294760d.js"],"component---src-pages-posts-tsx":["/component---src-pages-posts-tsx-11fc228f376d4a0028fb.js"],"component---src-pages-slides-tsx":["/component---src-pages-slides-tsx-ca4c586b9d750227315c.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-a146c703c12233861ecc.js"],"component---src-templates-slide-tsx":["/component---src-templates-slide-tsx-25921d76ed1c15473de1.js"]};/*]]>*/</script><script src="/polyfill-2d0129554497884c3ab3.js" nomodule=""></script><script src="/component---src-templates-post-tsx-a146c703c12233861ecc.js" async=""></script><script src="/b5433cdc981f0c288c339c2910d8833f05167fcf-839d29d94eb9cdbf685c.js" async=""></script><script src="/app-c2c0b88bdf15070fa777.js" async=""></script><script src="/framework-8d714a4faf31edeed8fb.js" async=""></script><script src="/webpack-runtime-8ac6183c44a76c500ebc.js" async=""></script></body></html>