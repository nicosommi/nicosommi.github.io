<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/component---src-templates-post-tsx.53d7234727541c2cbd94.css">@font-face{font-family:Open Sans Extra Bold;src:url(/fonts/open-sans/OpenSans-ExtraBold.ttf)}@font-face{font-family:Cooper Hewitt;src:url(/fonts/cooper-hewitt/CooperHewitt-Light.otf)}@font-face{font-family:PT Sans;src:url(/fonts/pt-sans/PTN57F.ttf)}code{background-color:azure;font-family:Menlo,Monaco,Courier New,monospace}html,p{line-height:1.8em}body{font-family:PT Sans,Georgia,serif;font-size:14pt;margin:2%}h1{font-family:Open Sans Extra Bold,Lucida Grande,Lucida Sans,Lucida Sans Regular,Lucida Sans Unicode,Geneva,Verdana,sans-serif;letter-spacing:-1pt;line-height:1.2em}h2,h3,h4,h5,h6{font-family:Cooper Hewitt;letter-spacing:1.3pt;text-transform:uppercase}@media only screen and (max-width:480px){html{font-size:100%}}

/*# sourceMappingURL=component---src-templates-post-tsx.53d7234727541c2cbd94.css.map*/</style><script>window.__EMOTION_CRITICAL_CSS_IDS__ = ["0","wq1mo7","dr0eep","1phry7t","1bnxa12","1vohbo4","bue21p"];</script><style>@-webkit-keyframes animation-wq1mo7{from 0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(calc(360deg*3));-ms-transform:rotate(calc(360deg*3));transform:rotate(calc(360deg*3));}}@keyframes animation-wq1mo7{from 0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(calc(360deg*3));-ms-transform:rotate(calc(360deg*3));transform:rotate(calc(360deg*3));}}.css-dr0eep{-webkit-text-decoration:none;text-decoration:none;color:black;}.css-dr0eep:hover{color:purple;outline:1px solid gray;outline-offset:2px;}.css-dr0eep:focus{outline:1px dashed gray;outline-offset:2px;}.css-1phry7t{color:gray;margin:0;}.css-1bnxa12{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;}.css-1vohbo4{margin:5% 20%;}.css-bue21p{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;font-size:0.75em;line-height:2em;}</style><title data-react-helmet="true">nicosommi</title><meta data-react-helmet="true" name="description" content="nicosommi blog"/><meta data-react-helmet="true" name="keywords" content="blog, developer, javascript, typescript"/><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-44929876-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(navigator.doNotTrack == "1" || window.doNotTrack == "1")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-44929876-1', 'auto');
      ga('set', 'anonymizeIp', true);}
      </script><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link as="script" rel="preload" href="/component---src-templates-post-tsx-acea8035f6ab39fa26d1.js"/><link as="script" rel="preload" href="/app-874540d8bcf4d5d5bf5b.js"/><link as="script" rel="preload" href="/11-06ad2655c3750dad69af.js"/><link as="script" rel="preload" href="/0-3f1dc8449dcbff735e4e.js"/><link as="script" rel="preload" href="/webpack-runtime-dc1a68a101aacc508386.js"/><link rel="preload" href="/static/d/900/path---2015-08-10-partial-class-approach-for-es-6-069-2b2-GTBGap46HTYxjg2FRLEf6rVybw.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div style="margin-bottom:1.45rem"><div style="margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem"><h1 style="margin:0"><a class="css-dr0eep" href="/">nicosommi</a></h1><h6 class="css-1phry7t"><span>systems engineer</span></h6><div class="css-1bnxa12"><h3 class="css-0"><a class="css-dr0eep" href="/posts">posts</a></h3><h3 class="css-0"><a class="css-dr0eep" href="/slides">slides</a></h3><h3 class="css-0"><a class="css-dr0eep" href="/about">about</a></h3></div></div></div><div class="css-1vohbo4"><h1>Partial class approach for ES5/ES6</h1><div>August 10, 2015</div><div>2<!-- --> min read</div><div><p><a href="https://github.com/nicosommi/partialClass" target="" class="css-dr0eep">Source code</a></p>
<p>When you create components that have some code quality control like code climate, bithound or something like that. There are plenty errors that you will found on your component, from code duplication to very specific details.</p>
<p>One of those rules is the <strong>class complexity</strong>.</p>
<p>So you have a giant class. You may <strong>need or want to split it up into different files</strong>. Of course, you can do some hacks with the javascript language to get that done. Of course, you can take a different design solution and make smaller classes. Of course, you can do a lot of things, but what I‚Äôm trying to show here is an approach to get <strong>something like the partial class declaration from OOP languages like C#</strong>. Keeping files simple and small. You need to cover some features like private methods, public ones, properties, bind problems ( so you can use ‚Äúthis‚Äù on every method), etc. And at the same time you should produce self documented code.</p>
<p>So I came up with a simple solution but that has some key points to unlock some features (private methods with symbols and using a standard function to attach to the class prototype).¬†It is not something trivial actually but not so hard neither. It consist on some <strong>easy to follow steps</strong> (on the example code, using the Babel plugin implementation for ES6 and ES5 compatibility):</p>
<ul>
<li>Instead of creating a file for your class, create a folder for it.</li>
<li>Create an index.js inside of it that contains the actual class</li>
<li>Create some file with the function/functions that you want to have in different files</li>
<li>Chose one of the alternatives to assign the method to the main class on the index. For example Object.assign(MyClass.prototype, objNewMethods). This is maybe the best option since it bind the functions automatically. UPDATE: It seems like there is a caveat using Object.assign to copy methods‚Ä¶ I will work on it soon to check that it happens and then update the article/source code with a better solution.</li>
<li>If you want to split up symbols (usually used for private methods) you need a separate file to instantiate them and use the same one among different files (for example to call a private method from another file).</li>
</ul>
<p>That‚Äôs basically all! <strong>See</strong> <a href="http://github.com/nicosommi/partialClass" target="" class="css-dr0eep">this repo</a> to take a look at a working source code.</p>
<p><strong>Now you have a class in several files, small and self documented files with functions with reduced complexity.</strong></p></div><div>nico</div></div><div class="css-bue21p"><span>kikiriki <span aria-label="rooster" role="img" class="css-0">üêì</span></span></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-post-tsx","jsonName":"2015-08-10-partial-class-approach-for-es-6-069","path":"/2015/08/10/partial-class-approach-for-es6/"};window.dataPath="900/path---2015-08-10-partial-class-approach-for-es-6-069-2b2-GTBGap46HTYxjg2FRLEf6rVybw";/*]]>*/</script><script src="/webpack-runtime-dc1a68a101aacc508386.js" async=""></script><script src="/0-3f1dc8449dcbff735e4e.js" async=""></script><script src="/11-06ad2655c3750dad69af.js" async=""></script><script src="/app-874540d8bcf4d5d5bf5b.js" async=""></script><script src="/component---src-templates-post-tsx-acea8035f6ab39fa26d1.js" async=""></script></body></html>